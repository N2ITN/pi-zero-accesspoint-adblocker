build1.5

# Volume persistence

# on pi:

sudo mkdir mnt
sudo mkdir mnt/etc/
sudo mkdir mnt/log/
sudo touch mnt/log/pihole.log
sudo chmod 755  mnt/log/pihole.log
sudo mkdir mnt/html



pihole.sh


docker stop pihole
docker rm pihole
IMAGE='diginc/pi-hole:arm'
NIC='wlan0'
IP=$(ip addr show $NIC | grep "inet\b" | awk '{print $2}' | cut -d/ -f1)
docker run -v /var/log/pihole.log:/var/log/pihole.log -v /etc/pihole/:/etc/pihole/ -p 53:53/tcp -p 53:53/udp -p 80:80 --cap-add=NET_ADMIN -e ServerIP="$IP" --name pihole -d $IMAGE

# Recommended auto ad list updates & log rotation:
wget -O- https://raw.githubusercontent.com/diginc/docker-pi-hole/master/docker-pi-hole.cron | sudo tee /etc/cron.d/docker-pi-hole



NEXT :::::: ADD:::: 



###### Untested:
 added:
  syncing of web resources, adlists
  auto start 


docker stop pihole
docker rm pihole
IMAGE='diginc/pi-hole:arm'
NIC='wlan0'
IP=$(ip addr show $NIC | grep "inet\b" | awk '{print $2}' | cut -d/ -f1)
docker run -v /var/log/pihole.log:/var/log/pihole.log -v /etc/pihole/:/etc/pihole/ -v ~/adlists.list:/etc/pihole/adlists.list -v ~/html/:/var/www/html/  -p 53:53/tcp -p 53:53/udp -p 80:80 --cap-add=NET_ADMIN -e ServerIP="$IP" --restart=always --name pihole -d $IMAGE

# Recommended auto ad list updates & log rotation:
wget -O- https://raw.githubusercontent.com/diginc/docker-pi-hole/master/docker-pi-hole.cron | sudo tee /etc/cron.d/docker-pi-hole