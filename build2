build1.5

Experimental volume persistence

On pi:
sudo touch /var/log/pihole.log
sudo mkdir /etc/pihole/


add to docker run statement in pi.sh
docker run -v /var/log/pihole.log:/var/log/pihole.log
/etc/pihole/:/etc/pihole/



docker pull diginc/pi-hole:arm
docker rm -f pihole




# Pi-hole: Update the ad sources once a week on Sunday at 01:59
#          Download any updates from the adlists
59 1    * * 7   root    docker exec $DOCKER_NAME pihole updateGravity > /dev/null

# Update docker-pi-hole by pulling the latest docker image ane re-creating your container.
# pihole software update commands are unsupported in docker!
#30 2    * * 7   root    docker exec $DOCKER_NAME pihole updatePihole > /dev/null



docker exec pihole pihole updateGravity


sudo chmod 755  /var/log/pihole.log


docker stop pihole
docker rm pihole
IMAGE='diginc/pi-hole:arm'
NIC='wlan0'
IP=$(ip addr show $NIC | grep "inet\b" | awk '{print $2}' | cut -d/ -f1)
docker run -v /var/log/pihole.log:/var/log/pihole.log -v /etc/pihole/:/etc/pihole/ -p 53:53/tcp -p 53:53/udp -p 80:80 --cap-ad$

# Recommended auto ad list updates & log rotation:
wget -O- https://raw.githubusercontent.com/diginc/docker-pi-hole/master/docker-pi-hole.cron | sudo tee /etc/cron.d/docker-pi-h$





NEXT :::::: ADD:::: 
-v your-adlists.list:/etc/pihole/adlists.list


